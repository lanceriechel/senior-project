<template name="activeProjects">
    <div class="container-fluid">
        <div class="row shaded top-buffer">
            <div class="col-md-2 col-sm-2 col-xs-2 text-center"><h4><div class="label2">Add a Project</div></h4></div>
            <div class="col-md-2 col-sm-2 col-xs-2 text-center"><h4>Project Name</h4></div>
            <div class="col-md-2 col-sm-2 col-xs-2 text-center"><h4>Customer</h4></div>
            <div class="col-md-1 col-sm-1 col-xs-1 text-center"><h4>Start Date</h4></div>
            <div class="col-md-1 col-sm-1 col-xs-1 text-center"><h4>End Date</h4></div>
            <div class="col-md-2 col-sm-2 col-xs-2 text-center"><h4>Manager</h4></div>
        </div>
        <br>
        {{> addProject}}
        {{> activeProjectEntries}}
        <!-- <h2><span class="label">Indirect Charge Items</span></h2> -->
        {{> indirectChargeItems}}
        <!-- <h2><span class="label">Archived Projects</span></h2> -->
        {{> archivedProjectsEntries}}
    </div>
     <div class="toast">All changes have been saved...</div>
</template>

<template name="activeProjectEntries">
    {{> projectHeader}}
    {{#each projects}}
        {{#if isActive end_date}}
            {{> projectInfo}}
        {{/if}}
    {{/each}}
</template>

<template name="projectInfo">
    <div class="row top-buffer" id= {{_id}}>
        <div class="col-md-2 col-sm-2 col-xs-2"> <input type="text" class="large-input form-control charge_number" id="charge_number" value={{id}}></div>
        <div class="col-md-2 col-sm-2 col-xs-2"> <input type="text" class="large-input form-control  project_name" id="project_name" value={{name}}></div>
        <div class="col-md-2 col-sm-2 col-xs-2"> <input type="text" class="large-input form-control  customer" id="customer" value={{customer}}></div>
        <div class="col-md-1 col-sm-1 col-xs-1"> <input type="text" class="large-input form-control date" id="start_date" value={{start_date}}></div>
        <div class="col-md-1 col-sm-1 col-xs-1"> <input type="text" class="large-input form-control date" id="end_date" value={{end_date}}></div>
        <div class="col-md-2 col-sm-2 col-xs-2"> <input class="large-input form-control manager typeahead" name="manager" type="text"
               onClick="this.setSelectionRange(0, this.value.length)"
               id="manager"
               placeholder="Manager"
               autocomplete="off" spellcheck="off"
               data-source="auto_managers" value={{manager}}></div>
        <div class="col-md-1 col-sm-1 col-xs-1"><button type="button" class="btn btn-primary">Make Indirect</button></div>
    </div>
</template>

<template name="addProject">
    <div class="row">
        <div class="col-md-2 col-sm-2 col-xs-2"> <input type="text" class="large-input form-control" id="charge_number" placeholder="Job"></div>
        <div class="col-md-2 col-sm-2 col-xs-2"> <input type="text" class="large-input form-control" id="project_name" placeholder="Project Name"></div>
        <div class="col-md-2 col-sm-2 col-xs-2"> <input type="text" class="large-input form-control" id="customer" placeholder="Customer"></div>
        <div class="col-md-1 col-sm-1 col-xs-1"> <input type="text" class="large-input form-control" id="start_date" placeholder="Start Date"></div>
        <div class="col-md-1 col-sm-1 col-xs-1"> <input type="text" class="large-input form-control" id="end_date" placeholder="End Date"></div>
        <div class="col-md-2 col-sm-2 col-xs-2"><input class="form-control typeahead" name="managerSelect" type="text"
               onClick="this.setSelectionRange(0, this.value.length)"
               id="managerSearch"
               placeholder="Manager"
               autocomplete="off" spellcheck="off"
               data-source="auto_managers"/></div>
        <div class="col-md-3 col-sm-3 col-xs-3 text-center">
            <label>Indirect Project?</label>
            <label class="indirect" for="y">Yes</label>
            <input type="radio" class="indirect" id="indirect" name="indirect" value="y">
            <label class="nonIndirect" for="n">No</label>
            <input type="radio" class="nonIndirect" id="nonIndirect" name="indirect" value="n" checked>
        </div>
        <div class="col-md-1 col-sm-1 col-xs-1"><button type="button" class="btn btn-primary">Add</button></div>
    </div>
</template>

<!-- <template name="employeesListDropDown">
    <select id="manager" class="large-input form-control manager-dropdown">
        {{#each managers}}
            <option value={{username}}>{{username}}</option>
        {{/each}}
    </select>
</template> -->

<template name="archivedProjectsEntries">
    {{> projectHeaderArchive}}
    {{#each projects}}
        {{#if isArchived end_date}}
            {{> projectInfo}}
        {{/if}}
    {{/each}}
</template>

<template name="projectHeader">
    <br>
    <div class="row top-buffer shaded">
        <div class="col-md-2 col-sm-2 col-xs-2 text-center"><h4><div class="label2">Active Projects</div></h4></div>
        <div class="col-md-2 col-sm-2 col-xs-2 text-center"><h4>Project Name</h4></div>
        <div class="col-md-2 col-sm-2 col-xs-2 text-center"><h4>Customer</h4></div>
        <div class="col-md-1 col-sm-1 col-xs-1 text-center"><h4>Start Date</h4></div>
        <div class="col-md-1 col-sm-1 col-xs-1 text-center"><h4>End Date</h4></div>
        <div class="col-md-2 col-sm-2 col-xs-2 text-center"><h4>Manager</h4></div>
    </div>
</template>

<template name="projectHeaderArchive">
    <br>
    <div class="row top-buffer shaded">
        <div class="col-md-2 col-sm-2 col-xs-2 text-center"><h4><div class="label2">Archived Projects</div></h4></div>
        <div class="col-md-2 col-sm-2 col-xs-2 text-center"><h4>Project Name</h4></div>
        <div class="col-md-2 col-sm-2 col-xs-2 text-center"><h4>Customer</h4></div>
        <div class="col-md-1 col-sm-1 col-xs-1 text-center"><h4>Start Date</h4></div>
        <div class="col-md-1 col-sm-1 col-xs-1 text-center"><h4>End Date</h4></div>
        <div class="col-md-2 col-sm-2 col-xs-2 text-center"><h4>Manager</h4></div>
    </div>
</template>

<template name="indirectChargeItems">
    {{> indirectHeader}}
    {{#each projects}}
        {{#if isActive end_date}}
            {{> indirectInfo}}
         {{/if}}
    {{/each}}
</template>

<template name="indirectHeader">
    <br>
    <div class="row top-buffer shaded">
        <div class="col-md-2 col-sm-2 col-xs-2 text-center"><h4><div class="label2">Indirect Charge Items</div></h4></div>
        <div class="col-md-2 col-sm-2 col-xs-2 text-center"><h4>Project Name</h4></div>
        <div class="col-md-2 col-sm-2 col-xs-2 text-center"><h4>Customer</h4></div>
        <div class="col-md-1 col-sm-1 col-xs-1 text-center"><h4>Start Date</h4></div>
        <div class="col-md-1 col-sm-1 col-xs-1 text-center"><h4>End Date</h4></div>
        <div class="col-md-2 col-sm-2 col-xs-2 text-center"><h4>Manager</h4></div>
    </div>
</template>

<template name="indirectInfo">
    <div class="row top-buffer" id= {{_id}}>
        <div id='id' value={{id}}> </div>
        <div class="col-md-2 col-sm-2 col-xs-2"> <input type="text" readonly class="large-input form-control indirectjob" id="indirectjob" value=Indirect></div>
        <div class="col-md-2 col-sm-2 col-xs-2"> <input type="text" class="large-input form-control project_name" id="project_name" value={{name}}></div>
        <div class="col-md-2 col-sm-2 col-xs-2"> <input type="text" class="large-input form-control  customer" id="customer" value={{customer}}></div>
        <div class="col-md-1 col-sm-1 col-xs-1"> <input type="text" class="large-input form-control date" id="start_date" value={{start_date}} disabled={{is_holiday}}></div>
        <div class="col-md-1 col-sm-1 col-xs-1"> <input type="text" class="large-input form-control date" id="end_date" value={{end_date}} disabled={{is_holiday}}></div>
        <div class="col-md-2 col-sm-2 col-xs-2"> <input class="large-input form-control manager typeahead" name="manager" type="text"
               onClick="this.setSelectionRange(0, this.value.length)"
               id="manager"
               placeholder="Manager"
               autocomplete="off" spellcheck="off"
               data-source="auto_managers" value={{manager}} disabled={{is_holiday}}></div>
        <div class="col-md-1 col-sm-1 col-xs-1"><button type="button" class="btn btn-primary" disabled={{is_holiday}}>Make Active</button></div>
    </div>
</template>
