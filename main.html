<head>
    <title>Time Entry</title>
</head>

<body>
<div id="main-pane">
    <div id="login">
        {{> loginButtons align="right"}}
    </div>
    {{> main_selector}}
</div>
<div id="side-pane">
    {{> pages}}
</div>
</body>

<template name="pages">
    <div id='time_sheet' class="tag" style="top:40px; left:10px">
        Time Sheet
    </div>
    <div id='admin_settings' class="tag" style="top:40px;left:10px">
        Charge Numbers
    </div>
    <div id='employees_settings' class="tag" style="top:40px;left:10px">
        Employees
    </div>
</template>

<template name="main_selector">
    {{#if isAdminSettings}}
        {{> admin_settings}}
    {{/if}}
    {{#if isTimesheet}}
        {{> timesheet}}
    {{/if}}
        {{#if isEmployees}}
        {{> employees_settings}}
        {{/if}}
</template>

<template name="admin_settings">
    <h1>Charge Numbers</h1>
    <h2>Active</h2>
    {{> charge_number_list}}
    <br>
    {{> add_charge_number}}
    <br>
    <h2>Archived</h2>
    {{> archived_list}}
</template>

<template name="employees_settings">
    <h1>Employees</h1>
    <table>
        <tr>
            <th>Employee Name</th>
            <th>Projects</th>
            <th>Full-time/Part-time</th>
        </tr>
    {{#each employees}}
    <tr>
        <td value={{name}}>{{name}}</td>
        <td>{{> charge_number_associations}}</td>
        <td>
            <div>
                <input name="{{id}}" type="radio" class="full" checked="{{full}}">
                <input name="{{id}}" type="radio" class="part" checked="{{part}}">
            </div>
        </td>
    </tr>
    {{/each}}
    </table>
</template>

<template name="charge_number_associations">
    <div id="items-view">
        <ul id="item-list">
            {{> charge_number_item}}
        </ul>
    </div>
</template>

<template name="charge_number_list">
    <table id="charge_number_table">
        <td>Charge Number</td>
        <td>Project Name</td>
        <td>Start Date</td>
        <td>End Date</td>
        <td>Manager</td>
        {{#each charge_numbers}}
            {{#if active end_date}}
                {{> charge_number_info}}
            {{/if}}
        {{/each}}
    </table>
</template>

<template name="charge_number_item">
    <li class="todo {{done_class}}">
        <div class="item-tags">
            {{#each projects}}
                <div class="tag removable_tag">
                    <div class="name">{{name}}</div>
                    <div class="remove"></div>
                </div>
            {{/each}}
            {{#if adding_tag}}
                <div class="tag edittag">
                    <select id="edittag-input">
                        {{#each charge_numbers}}
                            {{#if active end_date}}
                                <option value={{name}}>{{name}}</option>
                            {{/if}}
                        {{/each}}
                    </select>
                    <!--<input type="text" id="edittag-input" value="" />-->
                </div>
            {{else}}
                <div class="tag addtag">
                    +tag
                </div>
            {{/if}}
        </div>
    </li>
</template>

<template name="charge_number_info">
    <tr>
        <td> <input type="text" value={{id}} readonly></td>
        <td> <input type="text" value={{name}}></td>
        <td> <input type="date" value={{start_date}}></td>
        <td> <input type="date" value={{end_date}}></td>
        <td> <input type="text" value={{manager}}></td>
    </tr>
</template>

<template name="add_charge_number">
    <input type="text" id="charge_number_to_add">
    <input type="text" id="project_name_to_add">
    <input type="date" id="start_date_to_add">
    <input type="date" id="end_date_to_add">
    {{> employees_list}}
    <button>Add</button>
</template>

<template name="employees_list">
    <select id="manager_to_add">
        {{#each employees}}
            <option value={{name}}>{{name}}</option>
        {{/each}}charge_number_info
    </select>
</template>

<template name="archived_list">
    <table id="charge_number_table">
        <td>Charge Number</td>
        <td>Project Name</td>
        <td>Start Date</td>
        <td>End Date</td>
        <td>Manager</td>
        {{#each charge_numbers}}
            {{#if archived end_date}}
                {{> charge_number_info}}
            {{/if}}
        {{/each}}
    </table>
</template>

<template name="timesheet">
    <table>
        <tr>
            <td>Projects</td>
            <td>Sun</td>
            <td>Mon</td>
            <td>Tue</td>
            <td>Wed</td>
            <td>Thu</td>
            <td>Fri</td>
            <td>Sat</td>
            <td>Total</td>
        </tr>
        <tr>
            <td>Project1</td>
            <td><input class="span1 middle" type="text" value=0><input type="image" src="description.png" class="description-button"></td>
            <td><input class="span1 middle" type="text" value=0><input type="image" src="description.png" class="description-button"></td>
            <td><input class="span1 middle" type="text" value=0><input type="image" src="description.png" class="description-button"></td>
            <td><input class="span1 middle" type="text" value=0><input type="image" src="description.png" class="description-button"></td>
            <td><input class="span1 middle" type="text" value=0><input type="image" src="description.png" class="description-button"></td>
            <td><input class="span1 middle" type="text" value=0><input type="image" src="description.png" class="description-button"></td>
            <td><input class="span1 middle" type="text" value=0><input type="image" src="description.png" class="description-button"></td>
            <td><input class="span1 middle" type="text" value=0><input type="image" src="description.png" class="description-button"></td>
        </tr>
    </table>
</template>

